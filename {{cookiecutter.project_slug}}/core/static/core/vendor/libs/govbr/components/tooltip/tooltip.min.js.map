{"version":3,"file":"components/tooltip/tooltip.min.js","mappings":"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","sources":["webpack://core/webpack/universalModuleDefinition","webpack://core/./src/components/tooltip/tooltip.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"core\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"core\"] = factory();\n\telse\n\t\troot[\"core\"] = factory();\n})(self, () => {\nreturn ","import { createPopper } from '@popperjs/core'\nclass BRTooltip {\n  constructor(name, component) {\n    this.name = name\n    this.component = component\n    this.activator = component.previousSibling.previousSibling\n    const place = component.getAttribute('place')\n    const positions = ['top', 'right', 'bottom', 'left']\n    this.popover = component.hasAttribute('popover')\n    this.notification = component.classList.contains('br-notification')\n    this.timer = component.getAttribute('timer')\n    let positionNotification = this.notification\n    ? 'bottom'\n    : 'top'\n    this.active = component.hasAttribute('active')\n    this.placement = positions.includes(place)\n      ? place\n      : positionNotification\n    this.popperInstance = null\n    this.showEvents = ['mouseenter', 'click', 'focus']\n    this.hideEvents = ['mouseleave', 'blur']\n    this.closeTimer = null\n\n    this._create()\n    this._setBehavior()\n  }\n\n  _setBehavior() {\n    // Ação de abrir padrao ao entrar no ativador\n\n    if (this.activator) {\n      this.showEvents.forEach((event) => {\n        this.activator.addEventListener(event, (otherEvent) => {\n          this._show(otherEvent)\n        })\n      })\n      // }\n    }\n    // Adiciona ação de fechar ao botao do popover\n    // if (this.popover || this.notification) {\n    if (this.popover) {\n      const closeBtn = this.component.querySelector('.close')\n      closeBtn.addEventListener('click', (event) => {\n        this._hide(event, this.component)\n        this._toggleActivatorIcon()\n      })\n      // Ação de fechar padrao ao sair do ativador\n    } else {\n      this.hideEvents.forEach((event) => {\n        this.activator.addEventListener(event, (otherEvent) => {\n          this._hide(otherEvent, this.component)\n        })\n      })\n    }\n   \n  }\n\n  _create() {\n    this._setLayout()\n\n\n    // Cria a instancia do popper\n    if (this.notification) {\n      this.component.setAttribute('notification', '')\n\n      this.popperInstance = createPopper(this.activator, this.component, {\n        modifiers: [\n          {\n            name: 'offset',\n            options: {\n              offset: [0, 10],\n            },\n          },\n          {\n            name: 'preventOverflow',\n            options: {\n              altAxis: false, \n              mainAxis: true, \n              \n            },\n          },\n        ],\n        placement: this.placement,\n        \n        strategy: 'fixed',\n      })\n    } else {\n      let ac = new DOMRect()\n      const tt = new DOMRect()\n\n      \n      \n      \n     \n        ac = this.activator.getBoundingClientRect()\n      \n\n      const bw = document.body.clientWidth\n      if (this.placement === 'right') {\n        this.placement =\n          ac.x + ac.width + tt.width > bw ? 'top' : this.placement\n      }\n      if (this.placement === 'left') {\n        this.placement = ac.x - tt.width > 0 ? this.placement : 'top'\n      }\n\n      this.popperInstance = createPopper(this.activator, this.component, {\n        modifiers: [\n          {\n            name: 'offset',\n            options: {\n              offset: [0, 8],\n            },\n          },\n          {\n            name: 'preventOverflow',\n            options: {\n              altAxis: true, \n              mainAxis: true,\n              tether: false, \n            },\n          },\n        ],\n        placement: this.placement,\n      })\n    }\n  }\n\n  _show(event) {\n    this.component.style.display = 'unset'\n    this.component.setAttribute('data-show', '')\n    this.component.style.zIndex = 99\n    this._fixPosition()\n    \n    // Importante pois \"display: none\" conflitua com a instancia do componente e precisa ser setado aqui já que pelo css ativa o efeito fade no primeiro carregamento\n\n    this.component.style.visibility = 'visible'\n    if (this.timer) {\n      clearTimeout(this.closeTimer)\n      console.log(\"Timer\",this.timer)\n      this.closeTimer = setTimeout(\n        this._hide,\n        this.timer,\n        event,\n        this.component\n      )\n    }\n  }\n\n  _hide(event, component) {\n    component.removeAttribute('data-show')\n    component.style.zIndex = -1\n    component.style.visibility = 'hidden'\n    clearTimeout(component.closeTimer)\n  }\n\n  _setLayout() {\n    // Cria a setinha que aponta para o item que criou o tooltip\n    const arrow = document.createElement('div')\n    arrow.setAttribute('data-popper-arrow', '')\n\n    if (this.component.querySelectorAll('.arrow').length < 1) {\n      arrow.classList.add('arrow')\n    }\n    this.component.appendChild(arrow)\n    // Cria o icone de fechar do po over\n    if (this.popover) {\n      const close = document.createElement('button')\n      close.setAttribute('type', 'button')\n      close.classList.add('close')\n      const ico = document.createElement('i')\n      ico.classList.add('fas', 'fa-times')\n      close.appendChild(ico)\n      this.component.appendChild(close)\n    }\n  }\n\n  _toggleActivatorIcon() {\n    const icon = this.activator.querySelector('button svg')\n    if (icon) {\n      icon.classList.toggle('fa-angle-down')\n      icon.classList.toggle('fa-angle-up')\n    }\n    this.activator.toggleAttribute('active')\n  }\n\n  _fixPosition() {\n    if (this.notification) {\n      setTimeout(() => {\n        const ac = this.activator.getBoundingClientRect()\n        this.component.style = `position: fixed !important; top: ${\n          ac.top + ac.height + 10\n        }px !important; left: auto; right: 8px; display: unset; bottom: auto;`\n        this.component.querySelector(\n          '.arrow'\n        ).style = `position: absolute; left: auto; right: ${\n          document.body.clientWidth - ac.right + ac.width / 5\n        }px !important;`\n      }, 10)\n    }\n  }\n}\n\nexport default BRTooltip\n"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","self","BRTooltip","constructor","name","component","this","activator","previousSibling","place","getAttribute","positions","popover","hasAttribute","notification","classList","contains","timer","positionNotification","active","placement","includes","popperInstance","showEvents","hideEvents","closeTimer","_create","_setBehavior","forEach","event","addEventListener","otherEvent","_show","closeBtn","querySelector","_hide","_toggleActivatorIcon","_setLayout","setAttribute","createPopper","modifiers","options","offset","altAxis","mainAxis","strategy","ac","DOMRect","tt","getBoundingClientRect","bw","document","body","clientWidth","x","width","tether","style","display","zIndex","_fixPosition","visibility","clearTimeout","console","log","setTimeout","removeAttribute","arrow","createElement","querySelectorAll","length","add","appendChild","close","ico","icon","toggle","toggleAttribute","top","height","right"],"sourceRoot":""}