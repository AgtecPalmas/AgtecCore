{"version":3,"file":"components/pagination/pagination.js","mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;;;;;ACVA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2BAA2B,yBAAyB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,UAAU;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,yBAAyB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,UAAU;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,kCAAkC,KAAK;;AAEvC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,MAAM;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT,KAAK;AACL;AACA;;AAEA,sEAAe,4DAAY;;;;;;AC9V3B","sources":["webpack://core/webpack/universalModuleDefinition","webpack://core/./src/components/pagination/pagination.js","webpack://core/./src/components/pagination/_pagination.scss?3fe9"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"core\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"core\"] = factory();\n\telse\n\t\troot[\"core\"] = factory();\n})(self, () => {\nreturn ","/** Classe para instanciar um objeto BRPagination*/\nclass BRPagination {\n  /**\n   * Instancia do objeto\n   * @param {string} name - Nome do componente em minúsculo\n   * @param {object} component - Objeto referenciando a raiz do componente DOM\n   */\n  constructor(name, component) {\n    this.name = name\n    this.component = component\n    this.currentPage = 1\n    this._setBehaviors()\n    this._adaptSelectAccessibility()\n  }\n\n  /**\n   * Define comportamentos do componente\n   * @private\n   */\n  _setBehaviors() {\n    this._setKeybordBehavior()\n    this._setActive()\n    this._dropdownBehavior()\n  }\n\n  /**\n   * Define o comportamento de algumas teclas\n   * @private\n   */\n  _setKeybordBehavior() {\n    this._setDefaultPaginationKeybordBehavior()\n    this._setContextualPaginationKeyboardBehavior()\n  }\n\n  _setDefaultPaginationKeybordBehavior() {\n    this.component.querySelectorAll('li *:first-child').forEach((element) => {\n      element.addEventListener('keydown', (event) => {\n        if (\n          event.key === 'ArrowLeft' &&\n          !element.hasAttribute('data-previous-page')\n        ) {\n          element.parentElement.previousElementSibling.children[0].focus()\n        }\n        if (\n          event.key === 'ArrowRight' &&\n          !element.hasAttribute('data-next-page')\n        ) {\n          element.parentElement.nextElementSibling.children[0].focus()\n        }\n        if (\n          event.key === 'ArrowDown' &&\n          element.nextElementSibling?.classList.contains('br-list')\n        ) {\n          element.nextElementSibling.children[0].focus()\n        }\n      })\n    })\n  }\n\n  _setContextualPaginationKeyboardBehavior() {\n    this.component\n      .querySelectorAll('.pagination-per-page .br-list')\n      .forEach((element) => {\n        element.addEventListener('keydown', (event) => {\n          if (event.key === 'Escape') {\n            event.currentTarget.parentElement.focus()\n          }\n        })\n      })\n  }\n\n  /**\n   * Define visual do componente\n   * @private\n   */\n  // eslint-disable-next-line complexity\n  _setLayout() {\n    const ul = this.component.querySelector('ul')\n    const pages = this.component.querySelectorAll('.page')\n    pages.forEach((page) => {\n      if (page.classList.contains('active')) {\n        this.currentPage = parseInt(page.innerText)\n      }\n      page.classList.remove('d-none')\n    })\n\n    if (this.currentPage === 1) {\n      ul.querySelector('[data-previous-page]').setAttribute('disabled', '')\n    } else {\n      ul.querySelector('[data-previous-page]').removeAttribute('disabled')\n    }\n\n    if (this.currentPage === pages.length) {\n      ul.querySelector('[data-next-page').setAttribute('disabled', '')\n    } else {\n      ul.querySelector('[data-next-page]').removeAttribute('disabled')\n    }\n\n    if (pages.length > 9) {\n      if (this.currentPage < 6) {\n        if (ul.querySelector('[data-previous-interval]')) {\n          ul.querySelector('[data-previous-interval]').remove()\n        }\n        for (let page = 7; page < pages.length - 1; page++) {\n          pages[page].classList.add('d-none')\n        }\n        if (!ul.querySelector('[data-next-interval]')) {\n          ul.insertBefore(\n            this._createIntervalElement('next'),\n            ul.children[ul.children.length - 2]\n          )\n        }\n      }\n      if (this.currentPage >= 6 && this.currentPage < pages.length - 4) {\n        for (let page = this.currentPage - 4; page > 0; page--) {\n          pages[page].classList.add('d-none')\n        }\n        if (!ul.querySelector('[data-previous-interval]')) {\n          ul.insertBefore(\n            this._createIntervalElement('previous'),\n            ul.children[2]\n          )\n        }\n        for (let page = this.currentPage + 2; page < pages.length - 1; page++) {\n          pages[page].classList.add('d-none')\n        }\n        if (!ul.querySelector('[data-next-interval]')) {\n          ul.insertBefore(\n            this._createIntervalElement('next'),\n            ul.children[ul.children.length - 2]\n          )\n        }\n      }\n      if (this.currentPage >= pages.length - 4) {\n        if (ul.querySelector('[data-next-interval]')) {\n          ul.querySelector('[data-next-interval]').remove()\n        }\n        for (let page = pages.length - 8; page > 0; page--) {\n          pages[page].classList.add('d-none')\n        }\n        if (!ul.querySelector('[data-previous-interval]')) {\n          ul.insertBefore(\n            this._createIntervalElement('previous'),\n            ul.children[2]\n          )\n        }\n      }\n    }\n  }\n\n  /**\n   * Cria elemento no intervalo\n   * @param {string} type - nome do tipo do elmento\n   * @private\n   */\n  _createIntervalElement(type) {\n    const interval = document.createElement('li')\n    interval.setAttribute(`data-${type}-interval`, '')\n\n    const a = document.createElement('a')\n    a.setAttribute('href', 'javascript:void(0)')\n\n    const icon = document.createElement('i')\n    icon.classList.add('fas', 'fa-ellipsis-h')\n\n    a.appendChild(icon)\n    interval.appendChild(a)\n\n    return interval\n  }\n\n  /**\n   * Cria ação de clique na página\n   * @private\n   */\n  _setActive() {\n    for (const page of this.component.querySelectorAll('.page')) {\n      if (this.currentPage === Number(page.innerText)) {\n        page.setAttribute('aria-current', 'page')\n      } else {\n        page.removeAttribute('aria-current')\n      }\n\n      page.addEventListener('click', (event) => {\n        this._selectPage(event.currentTarget)\n      })\n    }\n    // debugger\n    for (const page of this.component.querySelectorAll(\n      '.pagination-ellipsis .br-item'\n    )) {\n      page.addEventListener('click', (event) => {\n        this._selectPage(event.currentTarget)\n      })\n    }\n  }\n\n  _initializeDropdownItems() {\n    this.component.querySelectorAll('.br-list').forEach((list) => {\n      const dropdownItems = Array.from(list.querySelectorAll('.br-item'))\n\n      dropdownItems.forEach((item) => {\n        item.addEventListener('keydown', (event) => {\n          const { key } = event\n          const currentIndex = dropdownItems.indexOf(item)\n          const lastIndex = dropdownItems.length - 1\n\n          switch (key) {\n            case 'ArrowUp':\n              event.preventDefault()\n              const prevIndex =\n                (currentIndex - 1 + dropdownItems.length) % dropdownItems.length\n              dropdownItems[prevIndex].focus()\n              break\n            case 'ArrowDown':\n              event.preventDefault()\n              const nextIndex = (currentIndex + 1) % dropdownItems.length\n              dropdownItems[nextIndex].focus()\n              break\n            default:\n              break\n          }\n        })\n      })\n    })\n  }\n\n  /**\n   * Cria comportamentos do dropdown\n   * @private\n   */\n  _dropdownBehavior() {\n    for (const dropdown of this.component.querySelectorAll(\n      '[data-toggle=\"dropdown\"]'\n    )) {\n      this._dropdownInit(dropdown)\n      this._dropdownToggle(dropdown)\n    }\n  }\n\n  /**\n   * Cria ação de clique no dropdown\n   * @param {object} element - referencia ao objeto DOM\n   * @private\n   */\n  _dropdownToggle(element) {\n    element.addEventListener('click', () => {\n      if (element.getAttribute('aria-expanded') === 'false') {\n        this._dropdownOpen(element)\n        return\n      }\n      this._dropdownClose(element)\n    })\n\n    window.document.addEventListener('click', (event) => {\n      if (!this.component.contains(event.target)) {\n        this._dropdownClose(element)\n      }\n    })\n\n    /**\n     * Adiciona um ouvinte de eventos ao documento para capturar a tecla \"Esc\" pressionada.\n     *\n     * @param {HTMLElement} element - O elemento associado ao dropdown que deve ser fechado.\n     */\n    element.nextElementSibling.addEventListener('keydown', (event) => {\n      if (event.key === 'Escape') {\n        this._dropdownClose(element)\n        const buttonInsideLi = element.parentElement.querySelector('button')\n        if (buttonInsideLi) {\n          buttonInsideLi.focus()\n        }\n      }\n      if (event.key === 'Tab') {\n        const items = event.currentTarget.querySelectorAll('.br-item')\n        if (items[items.length - 1].hasAttribute('data-focus-visible-added')) {\n          this._dropdownClose(element)\n        }\n      }\n    })\n  }\n\n  /**\n   * Inicializa elemento de dropdown\n   * @param {object} element - referencia ao objeto DOM\n   * @private\n   */\n  _dropdownInit(element) {\n    element.parentElement.classList.add('dropdown')\n    element.nextElementSibling.setAttribute('role', 'menu')\n    element.setAttribute('aria-haspopup', 'true')\n    this._dropdownClose(element)\n    this._initializeDropdownItems()\n  }\n\n  /**\n   * Ação de abrir dropdown\n   * @param {object} element - referencia ao objeto DOM\n   * @private\n   */\n  _dropdownOpen(element) {\n    element.setAttribute('aria-expanded', 'true')\n    element.nextElementSibling.removeAttribute('hidden')\n  }\n\n  /**\n   * Ação de fechar dropdown\n   * @param {object} element - referencia ao objeto DOM\n   * @private\n   */\n  _dropdownClose(element) {\n    element.setAttribute('aria-expanded', 'false')\n    element.nextElementSibling.setAttribute('hidden', '')\n  }\n\n  /**\n   * Define página ativa\n   * @param {object} currentPage - referencia ao objeto DOM\n   * @private\n   */\n  _selectPage(currentPage) {\n    this.component.querySelectorAll('.page').forEach((page) => {\n      page.classList.remove('active')\n      page.removeAttribute('aria-current')\n    })\n    this.component.querySelectorAll('.br-item').forEach((page) => {\n      page.classList.remove('active')\n      page.removeAttribute('aria-current')\n    })\n\n    currentPage.classList.add('active')\n    currentPage.setAttribute('aria-current', 'page')\n\n    this._setLayout()\n  }\n\n  _adaptSelectAccessibility() {\n    window.addEventListener('load', () => {\n      this.component\n        .querySelectorAll('.pagination-per-page .br-select .br-list')\n        .forEach((element) => {\n          element.setAttribute('role', 'menu')\n          element.querySelectorAll('.br-item').forEach((item) => {\n            item.setAttribute('role', 'menuitem')\n          })\n        })\n    })\n  }\n}\n\nexport default BRPagination\n","// extracted by mini-css-extract-plugin\nexport {};"],"names":[],"sourceRoot":""}