!function e(t,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define("core",[],o):"object"==typeof exports?exports.core=o():t.core=o()}(self,(()=>(()=>{var e={};return(()=>{class e{constructor(e,t,o){this.name=e,this.component=t,this._header=this.component.querySelector(".header, .table-header"),this._table=this.component.querySelector("table"),this._sequence=o,this._setBehaviors()}_setBehaviors(){this._makeResponsiveTable(),this._setHeaderWidth(),this._searchBehavior(),this._dropdownBehavior(),this._collpaseBehavior(),this._densityBehavior(),this._setClickActions(),this._getBRHeaderHeight()}_getBRHeaderHeight(){const e=document.querySelector(".br-header");e&&window.addEventListener("scroll",(()=>{this._header.style.top=`${e.clientHeight}px`}))}_makeResponsiveTable(){const e="responsive";if(!this.component.querySelector(`.${e}`)){const t=document.createElement("div");t.classList.add(e),t.appendChild(this._table),this._header.after(t)}}_makeScroller(){const e=document.createElement("div");e.classList.add("scroller");for(const t of this._table.querySelectorAll("thead tr th")){const o=document.createElement("div");o.classList.add("item"),o.innerHTML=t.innerHTML,t.offsetWidth&&(o.style.flex=`1 0 ${t.offsetWidth}px`),e.appendChild(o);const s=o.querySelector(".br-checkbox");if(s){const e=s.querySelector("input"),t=s.querySelector("label");e.id=`${e.id}-clone`,t.setAttribute("for",e.id)}}return e}_setHeaderWidth(){for(const e of this.component.querySelectorAll(".headers > div"))for(const[t,o]of this.component.querySelectorAll("table thead tr th").entries())e.children[t].style.flex=`1 0 ${o.offsetWidth}px`}_dropdownBehavior(){this.component.querySelectorAll('[data-toggle="dropdown"]').forEach((e=>{const t=undefined,o=undefined;new Dropdown({iconToHide:"fa-chevron-up",iconToShow:"fa-chevron-down",trigger:e,useIcons:!0}).setBehavior()}))}_collpaseBehavior(){this.component.querySelectorAll('[data-toggle="collapse"]').forEach((e=>{const t=undefined,o=undefined;new Collapse({iconToHide:"fa-chevron-up",iconToShow:"fa-chevron-down",trigger:e,useIcons:!0}).setBehavior()}))}_searchBehavior(){if(this.component.dataset.search){const e=this.component.querySelector('[data-toggle="search"]'),t=this.component.querySelector(".search-bar"),o=this.component.querySelector('[data-dismiss="search"]');this._searchInit(e),e.addEventListener("click",(()=>this._searchOpen(e,t))),o.addEventListener("click",(()=>this._searchClose(e,t))),t.querySelector("input").addEventListener("keydown",(o=>{"Escape"===o.key&&this._searchClose(e,t)}))}}_searchInit(e){e.setAttribute("aria-expanded","false")}_searchOpen(e,t){e.setAttribute("aria-expanded","true"),t.classList.add("show"),t.parentElement.classList.add("show"),t.querySelector("input").focus()}_searchClose(e,t){t.querySelector("input").value="",t.classList.remove("show"),t.parentElement.classList.remove("show"),e.focus(),e.setAttribute("aria-expanded","false")}_densityBehavior(){const e=this.component.querySelectorAll("[data-density]");for(const t of e)t.addEventListener("click",(()=>{this.component.classList.remove("small","medium","large"),this.component.classList.add(t.dataset.density),this._dropdownClose(t.closest(".dropdown").querySelector('[data-toggle="dropdown"]'))}))}_setClickActions(){const e=this.component.querySelector('.headers [type="checkbox"]'),t=this.component.querySelectorAll('tbody [type="checkbox"]'),o=this.component.querySelector(".selected-bar"),s=this.component.querySelectorAll('[data-toggle="check-all"]');for(const c of s)c.addEventListener("click",(()=>{this._checkAllTable(o,t,e),c.parentElement.classList.contains("br-list")&&this._dropdownClose(c.closest(".dropdown").querySelector('[data-toggle="dropdown"]'))}));if(t)for(const s of t)s.addEventListener("change",(()=>{this._checkRow(s,o,t,e)}))}_setRow(e,t){const o=e.parentNode.parentNode.parentNode;t?(o.classList.add("is-selected"),e.parentNode.classList.add("is-inverted"),e.checked=!0):(o.classList.remove("is-selected"),e.parentNode.classList.remove("is-inverted"),e.checked=!1)}_checkRow(e,t,o,s){const c=e.checked;this._setRow(e,c),this._setSelectedBar(c?1:-1,t,o,s)}_checkAllRows(e){for(const t of e)this._setRow(t,!0)}_uncheckAllRows(e){for(const t of e)this._setRow(t,!1)}_checkAllTable(e,t,o){let s=t.length;const c=e.querySelector(".info .count"),n=undefined;parseInt(c.innerHTML,10)===s?(this._uncheckAllRows(t),s*=-1):this._checkAllRows(t),this._setSelectedBar(s,e,t,o)}_setSelectedBar(e,t,o,s){const c=t.querySelector(".info .count"),n=t.querySelector(".info .text"),r=e<2?parseInt(c.innerHTML,10)+e:e;r>0?(t.classList.add("show"),c.innerHTML=r,n.innerHTML=r>1?"itens selecionados":"item selecionado",s&&s.parentNode.classList.add("is-checking"),r===o.length&&s&&(s.checked=!0,s.parentNode.classList.remove("is-checking"))):(c.innerHTML=0,s&&(s.checked=!1,s.parentNode.classList.remove("is-checking")),t.classList.remove("show"))}}var t=null})(),e})()));
//# sourceMappingURL=table.min.js.map