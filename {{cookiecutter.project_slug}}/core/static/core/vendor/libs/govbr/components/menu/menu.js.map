{"version":3,"file":"components/menu/menu.js","mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;;;;;ACVA;AACA;AACA;AACA;AACA,YAAY,QAAQ;AACpB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,QAAQ;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,QAAQ;AACpB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,sEAAe,sDAAM;;;;;;AC/TrB","sources":["webpack://core/webpack/universalModuleDefinition","webpack://core/./src/components/menu/menu.js","webpack://core/./src/components/menu/_menu.scss?9175"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"core\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"core\"] = factory();\n\telse\n\t\troot[\"core\"] = factory();\n})(self, () => {\nreturn ","/** Classe para instanciar um objeto BRMenu*/\nclass BRMenu {\n\t/**\n\t * Instancia do objeto\n\t * @param {string} name - Nome do componente em minúsculo\n\t * @param {object} component - Objeto referenciando a raiz do componente DOM\n\t */\n\tconstructor(name, component) {\n\t\tthis.name = name\n\t\tthis.component = component\n\t\tthis.id = this.component.id\n\t\tthis.breakpoints = this.component.dataset.breakpoints\n\t\t\t? this.component.dataset.breakpoints.split(' ')\n\t\t\t: ['col-sm-4', 'col-lg-3']\n\t\tthis.pushShadow = 'shadow-lg-right'\n\t\tthis.trigger = document.querySelector(`[data-target=\"#${this.id}\"]`)\n\t\tthis.contextual = this.component.querySelector(\n\t\t\t'[data-toggle=\"contextual\"]'\n\t\t)\n\t\tthis.dismiss = this.component.querySelectorAll('[data-dismiss=\"menu\"]')\n\t\tthis.scrim = this.component.querySelector('.menu-scrim')\n\t\tthis.componentFolders = this.component.querySelectorAll('.menu-folder')\n\t\tthis.componentItems = this.component.querySelectorAll('.menu-item')\n\t\tthis._setBehavior()\n\t}\n\n\t/**\n\t * Define comportamentos do componente\n\t * @private\n\t */\n\t_setBehavior() {\n\t\tthis._toggleMenu()\n\t\tthis._setDropMenu()\n\t\tthis._setSideMenu()\n\t\tthis._setKeyboardBehaviors()\n\t\tthis._setBreakpoints()\n\t\tthis._setView()\n\t\twindow.addEventListener('resize', () => {\n\t\t\tthis._setView()\n\t\t})\n\t}\n\n\t/**\n\t * Define visual do componente\n\t * @private\n\t */\n\t_setView() {\n\t\tconst template = document.querySelector('body')\n\t\tconst menuContextual = document.querySelector('.menu-trigger')\n\t\t// const panel = document.querySelector('.menu-panel')\n\t\tif (menuContextual && window.innerWidth < 992) {\n\t\t\ttemplate.classList.add('mb-5')\n\t\t} else {\n\t\t\ttemplate.classList.remove('mb-5')\n\t\t}\n\t}\n\n\t/**\n\t * Define breakpoints do menu\n\t * @private\n\t */\n\t_setBreakpoints() {\n\t\tif (!this.component.classList.contains('push') && !this.contextual) {\n\t\t\tthis.component\n\t\t\t\t.querySelector('.menu-panel')\n\t\t\t\t.classList.add(...this.breakpoints)\n\t\t}\n\t}\n\n\t/**\n\t * Define ações do teclado\n\t * @private\n\t */\n\t_setKeyboardBehaviors() {\n\t\t// Fechar com tecla ESC\n\t\tthis.component.addEventListener('keyup', (event) => {\n\t\t\tswitch (event.code) {\n\t\t\t\tcase 'Escape':\n\t\t\t\t\tthis._closeMenu()\n\t\t\t\tdefault:\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t})\n\t\t// Fechar com Tab fora do menu\n\t\tif (this.scrim) {\n\t\t\tthis.scrim.addEventListener('keyup', () => {\n\t\t\t\treturn this._closeMenu()\n\t\t\t})\n\t\t}\n\t}\n\n\t/**\n\t * Define comportamentos de abrir/fechar menu\n\t * @private\n\t */\n\t_toggleMenu() {\n\t\tconst trigger = this.contextual ? this.contextual : this.trigger\n\t\t// Clicar no trigger\n\t\tif (trigger) {\n\t\t\ttrigger.addEventListener('click', () => {\n\t\t\t\t// Fechar Menu caso esteja aberto\n\t\t\t\tif (this.component.classList.contains('active')) {\n\t\t\t\t\tthis._closeMenu()\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t// Abre Menu\n\t\t\t\tthis._openMenu()\n\t\t\t\tthis._focusNextElement()\n\t\t\t})\n\t\t}\n\t\t// Clicar no dismiss\n\t\tfor (const close of this.dismiss) {\n\t\t\tclose.addEventListener('click', () => {\n\t\t\t\treturn this._closeMenu()\n\t\t\t})\n\t\t}\n\t}\n\n\t/**\n\t * Define visual do menu aberto\n\t * @private\n\t */\n\t_openMenu() {\n\t\tthis.component.classList.add('active')\n\t\tif (this.component.classList.contains('push')) {\n\t\t\tthis.component.classList.add(...this.breakpoints, 'px-0')\n\t\t}\n\t\tthis.component.focus()\n\t}\n\n\t/**\n\t * Define visual do menu fechado\n\t * @private\n\t */\n\t_closeMenu() {\n\t\tthis.component.classList.remove('active')\n\t\tif (this.component.classList.contains('push')) {\n\t\t\tthis.component.classList.remove(...this.breakpoints, 'px-0')\n\t\t}\n\t\tthis._focusNextElement()\n\t}\n\n\t/**\n\t * Configura Drop Menu para filho imediato de \".menu-folder\"\n\t * @private\n\t */\n\t_setDropMenu() {\n\t\tfor (const item of this.component.querySelectorAll(\n\t\t\t'.menu-folder > a.menu-item'\n\t\t)) {\n\t\t\t// Inclui ícone de Drop Menu\n\t\t\tthis._createIcon(item, 'fa-chevron-down')\n\t\t\t// Configura como Drop Menu\n\t\t\titem.parentNode.classList.add('drop-menu')\n\t\t\t// Inicializa Drop Menu\n\t\t\tthis._toggleDropMenu(item)\n\t\t}\n\t}\n\n\t/**\n\t * Foca no próximo elemento\n\t * @private\n\t */\n\t_focusNextElement() {\n\t\t//lista de elementos que desejamos focar\n\t\tconst focussableElements =\n\t\t\t'a:not([disabled]), button:not([disabled]), input[type=text]:not([disabled]), [tabindex]:not([disabled]):not([tabindex=\"-1\"])'\n\t\tif (document.activeElement) {\n\t\t\tconst focussable = Array.prototype.filter.call(\n\t\t\t\tdocument.body.querySelectorAll(focussableElements),\n\t\t\t\t(element) => {\n\t\t\t\t\t// testa a visibilidade e inclui o elemento ativo\n\t\t\t\t\treturn (\n\t\t\t\t\t\telement.offsetWidth > 0 ||\n\t\t\t\t\t\telement.offsetHeight > 0 ||\n\t\t\t\t\t\telement === document.activeElement\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t)\n\t\t\tconst index = focussable.indexOf(document.activeElement)\n\t\t\tif (index > -1) {\n\t\t\t\tconst nextElement = focussable[index + 1] || focussable[0]\n\t\t\t\tnextElement.focus()\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Configura Side Menu para quem não for filho imediato de \".menu-folder\"\n\t * @private\n\t */\n\t_setSideMenu() {\n\t\tfor (const ul of this.component.querySelectorAll('a.menu-item + ul')) {\n\t\t\tif (!ul.parentNode.classList.contains('menu-folder')) {\n\t\t\t\t// Inclui ícone de Side Menu\n\t\t\t\tthis._createIcon(ul.previousElementSibling, 'fa-angle-right')\n\t\t\t\t// Configura como Side Menu\n\t\t\t\tul.parentNode.classList.add('side-menu')\n\t\t\t\t// Inicializa Side Menu\n\t\t\t\tthis._toggleSideMenu(ul.previousElementSibling)\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Muda estado do Drop Menu - aberto/fechado\n\t * @private\n\t * @param {object} element - referência ao Objeto que fará a ação\n\t */\n\t_toggleDropMenu(element) {\n\t\t// Verifica se o elemento já possui click listener através de um atributo especial\n\t\tif (!element.hasAttribute('data-click-listener')) {\n\t\t\telement.addEventListener('click', () => {\n\t\t\t\t// Fecha Drop Menu caso esteja aberto\n\t\t\t\tif (element.parentNode.classList.contains('active')) {\n\t\t\t\t\telement.parentNode.classList.remove('active')\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\t// Abre Drop Menu\n\t\t\t\telement.parentNode.classList.add('active')\n\t\t\t})\n\t\t\t// Adiciona atributo especial para indicar que o elemento já possui click listener\n\t\t\telement.setAttribute('data-click-listener', 'true')\n\t\t}\n\t}\n\n\t/**\n\t * Muda estado do Side Menu - aberto/fechado\n\t * @private\n\t * @param {object} element - referência ao Objeto que fará a ação\n\t */\n\t_toggleSideMenu(element) {\n\t\t// Verifica se o elemento já possui click listener através de um atributo especial\n\t\tif (!element.hasAttribute('data-click-listener')) {\n\t\t\telement.addEventListener('click', () => {\n\t\t\t\t// Esconde todos os itens\n\t\t\t\tthis._hideItems(element)\n\n\t\t\t\t// Mostra itens do Side Menu ativo\n\t\t\t\tthis._showItems(element.parentNode)\n\n\t\t\t\t// Fecha Side Menu caso esteja aberto\n\t\t\t\tif (element.parentNode.classList.contains('active')) {\n\t\t\t\t\tthis._closeSideMenu(element)\n\t\t\t\t\telement.focus()\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\t// Abre Side Menu\n\t\t\t\telement.parentNode.classList.add('active')\n\t\t\t\telement.focus()\n\t\t\t})\n\t\t\t// Adiciona atributo especial para indicar que o elemento já possui click listener\n\t\t\telement.setAttribute('data-click-listener', 'true')\n\t\t}\n\t}\n\n\t/**\n\t * Fecha Side Menu\n\t * @private\n\t * @param {object} element - referência ao Objeto que fará a ação\n\t */\n\t_closeSideMenu(element) {\n\t\telement.parentNode.classList.remove('active')\n\t\t// Verifica se existe Side Menu anterior, caso contrário mostra todos os itens de volta\n\t\tconst parentFolder = element.parentNode.closest('.side-menu.active')\n\t\t\t? element.parentNode.closest('.side-menu.active')\n\t\t\t: element.closest('.menu-body')\n\t\tthis._showItems(parentFolder)\n\t}\n\n\t/**\n\t * Esconde os elementos proximos a referencia\n\t * @private\n\t * @param {object} element - referencia ao Objeto que fará a ação\n\t */\n\t_hideItems(element) {\n\t\tfor (const item of element\n\t\t\t.closest('.menu-body')\n\t\t\t.querySelectorAll('.menu-item')) {\n\t\t\titem.setAttribute('hidden', '')\n\t\t}\n\t}\n\n\t/**\n\t * Mostra os elementos proximos a referencia\n\t * @private\n\t * @param {object} element - referência ao Objeto que fará a ação\n\t */\n\t_showItems(element) {\n\t\tfor (const item of element.querySelectorAll('.menu-item')) {\n\t\t\titem.removeAttribute('hidden')\n\t\t}\n\t}\n\n\t/**\n\t * Cria icone filho a referencia\n\t * @private\n\t * @param {object} element - referência ao Objeto pai\n\t * @param {string} icon - nome da classe font awesome do ícone\n\t */\n\t_createIcon(element, icon) {\n\t\t// Verifica se já existe container para o ícone\n\t\tif (!element.querySelectorAll('span.support').length) {\n\t\t\tconst menuIconContainer = document.createElement('span')\n\t\t\tmenuIconContainer.classList.add('support')\n\n\t\t\tconst menuIcon = document.createElement('i')\n\t\t\tmenuIcon.classList.add('fas')\n\t\t\tmenuIcon.classList.add(icon)\n\t\t\tmenuIcon.setAttribute('aria-hidden', 'true')\n\n\t\t\tmenuIconContainer.appendChild(menuIcon)\n\t\t\telement.appendChild(menuIconContainer)\n\t\t}\n\t}\n}\n\nexport default BRMenu\n","// extracted by mini-css-extract-plugin\nexport {};"],"names":[],"sourceRoot":""}