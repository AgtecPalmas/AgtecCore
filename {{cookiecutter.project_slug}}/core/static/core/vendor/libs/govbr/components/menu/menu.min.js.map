{"version":3,"file":"components/menu/menu.min.js","mappings":"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","sources":["webpack://core/webpack/universalModuleDefinition","webpack://core/./src/components/menu/menu.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"core\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"core\"] = factory();\n\telse\n\t\troot[\"core\"] = factory();\n})(self, () => {\nreturn ","/** Classe para instanciar um objeto BRMenu*/\nclass BRMenu {\n\t/**\n\t * Instancia do objeto\n\t * @param {string} name - Nome do componente em minúsculo\n\t * @param {object} component - Objeto referenciando a raiz do componente DOM\n\t */\n\tconstructor(name, component) {\n\t\tthis.name = name\n\t\tthis.component = component\n\t\tthis.id = this.component.id\n\t\tthis.breakpoints = this.component.dataset.breakpoints\n\t\t\t? this.component.dataset.breakpoints.split(' ')\n\t\t\t: ['col-sm-4', 'col-lg-3']\n\t\tthis.pushShadow = 'shadow-lg-right'\n\t\tthis.trigger = document.querySelector(`[data-target=\"#${this.id}\"]`)\n\t\tthis.contextual = this.component.querySelector(\n\t\t\t'[data-toggle=\"contextual\"]'\n\t\t)\n\t\tthis.dismiss = this.component.querySelectorAll('[data-dismiss=\"menu\"]')\n\t\tthis.scrim = this.component.querySelector('.menu-scrim')\n\t\tthis.componentFolders = this.component.querySelectorAll('.menu-folder')\n\t\tthis.componentItems = this.component.querySelectorAll('.menu-item')\n\t\tthis._setBehavior()\n\t}\n\n\t/**\n\t * Define comportamentos do componente\n\t * @private\n\t */\n\t_setBehavior() {\n\t\tthis._toggleMenu()\n\t\tthis._setDropMenu()\n\t\tthis._setSideMenu()\n\t\tthis._setKeyboardBehaviors()\n\t\tthis._setBreakpoints()\n\t\tthis._setView()\n\t\twindow.addEventListener('resize', () => {\n\t\t\tthis._setView()\n\t\t})\n\t}\n\n\t/**\n\t * Define visual do componente\n\t * @private\n\t */\n\t_setView() {\n\t\tconst template = document.querySelector('body')\n\t\tconst menuContextual = document.querySelector('.menu-trigger')\n\t\t// const panel = document.querySelector('.menu-panel')\n\t\tif (menuContextual && window.innerWidth < 992) {\n\t\t\ttemplate.classList.add('mb-5')\n\t\t} else {\n\t\t\ttemplate.classList.remove('mb-5')\n\t\t}\n\t}\n\n\t/**\n\t * Define breakpoints do menu\n\t * @private\n\t */\n\t_setBreakpoints() {\n\t\tif (!this.component.classList.contains('push') && !this.contextual) {\n\t\t\tthis.component\n\t\t\t\t.querySelector('.menu-panel')\n\t\t\t\t.classList.add(...this.breakpoints)\n\t\t}\n\t}\n\n\t/**\n\t * Define ações do teclado\n\t * @private\n\t */\n\t_setKeyboardBehaviors() {\n\t\t// Fechar com tecla ESC\n\t\tthis.component.addEventListener('keyup', (event) => {\n\t\t\tswitch (event.code) {\n\t\t\t\tcase 'Escape':\n\t\t\t\t\tthis._closeMenu()\n\t\t\t\tdefault:\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t})\n\t\t// Fechar com Tab fora do menu\n\t\tif (this.scrim) {\n\t\t\tthis.scrim.addEventListener('keyup', () => {\n\t\t\t\treturn this._closeMenu()\n\t\t\t})\n\t\t}\n\t}\n\n\t/**\n\t * Define comportamentos de abrir/fechar menu\n\t * @private\n\t */\n\t_toggleMenu() {\n\t\tconst trigger = this.contextual ? this.contextual : this.trigger\n\t\t// Clicar no trigger\n\t\tif (trigger) {\n\t\t\ttrigger.addEventListener('click', () => {\n\t\t\t\t// Fechar Menu caso esteja aberto\n\t\t\t\tif (this.component.classList.contains('active')) {\n\t\t\t\t\tthis._closeMenu()\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t// Abre Menu\n\t\t\t\tthis._openMenu()\n\t\t\t\tthis._focusNextElement()\n\t\t\t})\n\t\t}\n\t\t// Clicar no dismiss\n\t\tfor (const close of this.dismiss) {\n\t\t\tclose.addEventListener('click', () => {\n\t\t\t\treturn this._closeMenu()\n\t\t\t})\n\t\t}\n\t}\n\n\t/**\n\t * Define visual do menu aberto\n\t * @private\n\t */\n\t_openMenu() {\n\t\tthis.component.classList.add('active')\n\t\tif (this.component.classList.contains('push')) {\n\t\t\tthis.component.classList.add(...this.breakpoints, 'px-0')\n\t\t}\n\t\tthis.component.focus()\n\t}\n\n\t/**\n\t * Define visual do menu fechado\n\t * @private\n\t */\n\t_closeMenu() {\n\t\tthis.component.classList.remove('active')\n\t\tif (this.component.classList.contains('push')) {\n\t\t\tthis.component.classList.remove(...this.breakpoints, 'px-0')\n\t\t}\n\t\tthis._focusNextElement()\n\t}\n\n\t/**\n\t * Configura Drop Menu para filho imediato de \".menu-folder\"\n\t * @private\n\t */\n\t_setDropMenu() {\n\t\tfor (const item of this.component.querySelectorAll(\n\t\t\t'.menu-folder > a.menu-item'\n\t\t)) {\n\t\t\t// Inclui ícone de Drop Menu\n\t\t\tthis._createIcon(item, 'fa-chevron-down')\n\t\t\t// Configura como Drop Menu\n\t\t\titem.parentNode.classList.add('drop-menu')\n\t\t\t// Inicializa Drop Menu\n\t\t\tthis._toggleDropMenu(item)\n\t\t}\n\t}\n\n\t/**\n\t * Foca no próximo elemento\n\t * @private\n\t */\n\t_focusNextElement() {\n\t\t//lista de elementos que desejamos focar\n\t\tconst focussableElements =\n\t\t\t'a:not([disabled]), button:not([disabled]), input[type=text]:not([disabled]), [tabindex]:not([disabled]):not([tabindex=\"-1\"])'\n\t\tif (document.activeElement) {\n\t\t\tconst focussable = Array.prototype.filter.call(\n\t\t\t\tdocument.body.querySelectorAll(focussableElements),\n\t\t\t\t(element) => {\n\t\t\t\t\t// testa a visibilidade e inclui o elemento ativo\n\t\t\t\t\treturn (\n\t\t\t\t\t\telement.offsetWidth > 0 ||\n\t\t\t\t\t\telement.offsetHeight > 0 ||\n\t\t\t\t\t\telement === document.activeElement\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t)\n\t\t\tconst index = focussable.indexOf(document.activeElement)\n\t\t\tif (index > -1) {\n\t\t\t\tconst nextElement = focussable[index + 1] || focussable[0]\n\t\t\t\tnextElement.focus()\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Configura Side Menu para quem não for filho imediato de \".menu-folder\"\n\t * @private\n\t */\n\t_setSideMenu() {\n\t\tfor (const ul of this.component.querySelectorAll('a.menu-item + ul')) {\n\t\t\tif (!ul.parentNode.classList.contains('menu-folder')) {\n\t\t\t\t// Inclui ícone de Side Menu\n\t\t\t\tthis._createIcon(ul.previousElementSibling, 'fa-angle-right')\n\t\t\t\t// Configura como Side Menu\n\t\t\t\tul.parentNode.classList.add('side-menu')\n\t\t\t\t// Inicializa Side Menu\n\t\t\t\tthis._toggleSideMenu(ul.previousElementSibling)\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Muda estado do Drop Menu - aberto/fechado\n\t * @private\n\t * @param {object} element - referência ao Objeto que fará a ação\n\t */\n\t_toggleDropMenu(element) {\n\t\t// Verifica se o elemento já possui click listener através de um atributo especial\n\t\tif (!element.hasAttribute('data-click-listener')) {\n\t\t\telement.addEventListener('click', () => {\n\t\t\t\t// Fecha Drop Menu caso esteja aberto\n\t\t\t\tif (element.parentNode.classList.contains('active')) {\n\t\t\t\t\telement.parentNode.classList.remove('active')\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\t// Abre Drop Menu\n\t\t\t\telement.parentNode.classList.add('active')\n\t\t\t})\n\t\t\t// Adiciona atributo especial para indicar que o elemento já possui click listener\n\t\t\telement.setAttribute('data-click-listener', 'true')\n\t\t}\n\t}\n\n\t/**\n\t * Muda estado do Side Menu - aberto/fechado\n\t * @private\n\t * @param {object} element - referência ao Objeto que fará a ação\n\t */\n\t_toggleSideMenu(element) {\n\t\t// Verifica se o elemento já possui click listener através de um atributo especial\n\t\tif (!element.hasAttribute('data-click-listener')) {\n\t\t\telement.addEventListener('click', () => {\n\t\t\t\t// Esconde todos os itens\n\t\t\t\tthis._hideItems(element)\n\n\t\t\t\t// Mostra itens do Side Menu ativo\n\t\t\t\tthis._showItems(element.parentNode)\n\n\t\t\t\t// Fecha Side Menu caso esteja aberto\n\t\t\t\tif (element.parentNode.classList.contains('active')) {\n\t\t\t\t\tthis._closeSideMenu(element)\n\t\t\t\t\telement.focus()\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\t// Abre Side Menu\n\t\t\t\telement.parentNode.classList.add('active')\n\t\t\t\telement.focus()\n\t\t\t})\n\t\t\t// Adiciona atributo especial para indicar que o elemento já possui click listener\n\t\t\telement.setAttribute('data-click-listener', 'true')\n\t\t}\n\t}\n\n\t/**\n\t * Fecha Side Menu\n\t * @private\n\t * @param {object} element - referência ao Objeto que fará a ação\n\t */\n\t_closeSideMenu(element) {\n\t\telement.parentNode.classList.remove('active')\n\t\t// Verifica se existe Side Menu anterior, caso contrário mostra todos os itens de volta\n\t\tconst parentFolder = element.parentNode.closest('.side-menu.active')\n\t\t\t? element.parentNode.closest('.side-menu.active')\n\t\t\t: element.closest('.menu-body')\n\t\tthis._showItems(parentFolder)\n\t}\n\n\t/**\n\t * Esconde os elementos proximos a referencia\n\t * @private\n\t * @param {object} element - referencia ao Objeto que fará a ação\n\t */\n\t_hideItems(element) {\n\t\tfor (const item of element\n\t\t\t.closest('.menu-body')\n\t\t\t.querySelectorAll('.menu-item')) {\n\t\t\titem.setAttribute('hidden', '')\n\t\t}\n\t}\n\n\t/**\n\t * Mostra os elementos proximos a referencia\n\t * @private\n\t * @param {object} element - referência ao Objeto que fará a ação\n\t */\n\t_showItems(element) {\n\t\tfor (const item of element.querySelectorAll('.menu-item')) {\n\t\t\titem.removeAttribute('hidden')\n\t\t}\n\t}\n\n\t/**\n\t * Cria icone filho a referencia\n\t * @private\n\t * @param {object} element - referência ao Objeto pai\n\t * @param {string} icon - nome da classe font awesome do ícone\n\t */\n\t_createIcon(element, icon) {\n\t\t// Verifica se já existe container para o ícone\n\t\tif (!element.querySelectorAll('span.support').length) {\n\t\t\tconst menuIconContainer = document.createElement('span')\n\t\t\tmenuIconContainer.classList.add('support')\n\n\t\t\tconst menuIcon = document.createElement('i')\n\t\t\tmenuIcon.classList.add('fas')\n\t\t\tmenuIcon.classList.add(icon)\n\t\t\tmenuIcon.setAttribute('aria-hidden', 'true')\n\n\t\t\tmenuIconContainer.appendChild(menuIcon)\n\t\t\telement.appendChild(menuIconContainer)\n\t\t}\n\t}\n}\n\nexport default BRMenu\n"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","self","BRMenu","constructor","name","component","this","id","breakpoints","dataset","split","pushShadow","trigger","document","querySelector","contextual","dismiss","querySelectorAll","scrim","componentFolders","componentItems","_setBehavior","_toggleMenu","_setDropMenu","_setSideMenu","_setKeyboardBehaviors","_setBreakpoints","_setView","window","addEventListener","template","menuContextual","innerWidth","classList","add","remove","contains","event","code","_closeMenu","_openMenu","_focusNextElement","close","focus","item","_createIcon","parentNode","_toggleDropMenu","focussableElements","activeElement","focussable","Array","prototype","filter","call","body","element","offsetWidth","offsetHeight","index","indexOf","nextElement","ul","previousElementSibling","_toggleSideMenu","hasAttribute","setAttribute","_hideItems","_showItems","_closeSideMenu","parentFolder","closest","removeAttribute","icon","length","menuIconContainer","createElement","menuIcon","appendChild"],"sourceRoot":""}